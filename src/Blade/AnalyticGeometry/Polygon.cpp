#include <AnalyticGeometry/Polygon.h>

#include <BBLibc.h>


/*
* Module:                 Blade.exe
* Data address:           0x005DF8B0
*/
static unsigned int gbl_num_polygon_vertices = 0;


/*
................................................................................
................................................................................
................................................................................
................................................................................
*/

/*
* Module:                 Blade.exe
* Entry point:            0x004085BC
* VC++ mangling:          ??0B_WorldPoint@@QAE@XZ
*/

B_WorldPoint::B_WorldPoint()
 : unknown1C(0)
{
}


/*
................................................................................
................................................................................
................................................................................
................................................................................
*/

/*
* Module:                 Blade.exe
* Entry point:            0x00408631
* VC++ mangling:          ??5@YAAAVB_IDataFile@@AAV0@AAVB_WorldPoint@@@Z
*/

B_IDataFile &operator >>(B_IDataFile &file, B_WorldPoint &point)
{
    point.unknown1C = 0;
    return (file >> point.v);
}


/*
................................................................................
................................................................................
................................................................................
................................................................................
*/

/*
* Module:                 Blade.exe
* Entry point:            0x004088F4
* VC++ mangling:          ??5@YAAAVB_IDataFile@@AAV0@AAVB_WorldPoints@@@Z
*/

B_IDataFile &operator >>(B_IDataFile &file, B_WorldPoints &wordPoints)
{
    return (file >> wordPoints.points);
}

/*
................................................................................
................................................................................
................................................................................
................................................................................
*/

/*
* Module:                 Blade.exe
* Entry point:            0x00408B67
* VC++ mangling:          ??0B_Polygon@@QAE@XZ
*/

B_Polygon::B_Polygon()
 : numVertices(0), vertices(NULL)
{
}


/*
................................................................................
................................................................................
................................................................................
................................................................................
*/

/*
* Module:                 Blade.exe
* Entry point:            0x00408CD3
* VC++ mangling:          ??1B_Polygon@@UAE@XZ
*/

B_Polygon::~B_Polygon()
{
    this->numVertices = 0;
    delete [] this->vertices;
}



/*
................................................................................
................................................................................
................................................................................
................................................................................
*/

/*
* Module:                 Blade.exe
* Entry point:            0x004097FC
* VC++ mangling:          ??5@YAAAVB_IDataFile@@AAV0@AAVB_Polygon@@@Z
*/

B_IDataFile &operator >>(B_IDataFile &file, B_Polygon &polygon)
{
    delete [] polygon.vertices;
    file >> polygon.numVertices;
    polygon.vertices = new unsigned int[polygon.numVertices];
    for (unsigned int i = 0; i < polygon.numVertices; i++)
    {
        file >> polygon.vertices[i];
    }
    gbl_num_polygon_vertices += polygon.numVertices;
    return file;
}


/*
................................................................................
................................................................................
................................................................................
................................................................................
*/
